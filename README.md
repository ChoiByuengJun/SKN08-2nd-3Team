# SKN08-2nd-3Team
SK Networks AI 8기 2번째 단위 프로젝트입니다.

<div align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=0:000000,70:003300,100:00FF00&height=240&text=SKN08-2nd-3Team&animation=&fontColor=00FF00&fontSize=90" width="1000" />

  <img width="1000" alt="image" src="https://github.com/Jh-jaehyuk/Jh-jaehyuk.github.io/assets/126551524/7ea63fc3-95f0-44d5-a0f0-cf431cae34f1"> 

  [![Hits](https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https://github.com/SKNETWORKS-FAMILY-AICAMP/SKN01-4th-1Team&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false)](https://hits.seeyoufarm.com)
</div>



# 1. Introduction Team (팀 소개)
### ✅ 팀명 : MASHED-PHOTATO
<table align=center>
  <tbody>
    <tr>
      <td align=center><b>유제나</b></td>
      <td align=center><b>조준희</b></td>
      <td align=center><b>주고은</b></td>
      <td align=center><b>최병준</b></td>
    </tr>
    <tr>
      <td align="center">
        <div>
          <img width="200" alt="image" src="https://avatars.githubusercontent.com/u/167101468?v=4"width="200px;" alt="유제나">
        </div>
      </td>
      <td align="center">
        <div>
          <img src = "https://avatars.githubusercontent.com/u/188949785?v=4" width="200px" height="200px"; alt="조준희"/>
        </div>
      </td>
      <td align="center">
        <div>
          <img src="https://avatars.githubusercontent.com/u/133327235?v=4" width="200" height="200" alt="주고은">
        </div>
      </td>
      <td align="center">
        <img src="https://avatars.githubusercontent.com/u/188127748?v=4" width="200" height="200" class="avatar avatar-user width-full border color-bg-default" alt="최병준">
      </td>
    </tr>
    <tr>
      <td><a href="https://github.com/denalog"><div align=center>@denalog</div></a></td>
      <td><a href="https://github.com/CodeLego8"><div align=center>@CodeLego8</div></a></td>
      <td><a href="https://github.com/Goeun-Ju"><div align=center>@Goeun-Ju</div></a></td>
      <td><a href="https://github.com/ChoiByuengJun"><div align=center>@ChoiByuengJun</div></a></td>
    </tr>
  </tbody>
</table>
<br><br><br>



# 2. 📍Introduction Project📍 (프로젝트 개요)

### ✅프로젝트 명
자동차 판매사이트의 고객 이탈 여부 데이터 분석 및 개선 방안 제안

### ✅프로젝트 소개
자동차 판매 사이트에서 고객의 구매 데이터를 분석하고, 고객 이탈 여부를 예측하는 프로젝트입니다.
고객 행동 데이터를 기반으로 데이터 전처리, 클러스터링, 차원 축소 및 시각화를 통해 고객의 특성과 이탈 가능성을 파악하는 것을 목표로 하며,
이를 통해 효율적인 마케팅 전략을 수립하고, 고객 유치율을 높이고자합니다.


### ✅프로젝트 필요성(배경)
1. **고객 이탈 문제의 중요성**  
   - 자동차 판매 시장에서 기존 고객의 이탈은 신규 고객을 유치하는 것보다 더 큰 비용을 초래합니다.
   - 고객 이탈 예측을 통해 기업은 사전에 대응하여 충성 고객을 유지할 수 있습니다.

2. **데이터 기반 의사결정의 필요성**  
   - 데이터 분석과 예측 모델링을 통해 고객 행동을 이해하고, 이를 바탕으로 효과적인 비즈니스 전략을 수립할 수 있습니다.
   - 정제된 데이터를 기반으로 한 클러스터링과 시각화는 고객 세분화 및 맞춤형 마케팅 전략 개발에 필수적입니다.

3. **효율적 자원 관리**  
   - 고객 행동 데이터를 분석하여 마케팅 자원을 효율적으로 배분하고, 이탈 가능성이 높은 고객에게 집중 투자할 수 있습니다.

### ✅프로젝트 목표
1. **데이터 전처리 및 분석 능력 강화**  
   - Python을 사용한 데이터 정제 및 가공.
   - Feature Engineering 기법을 통해 데이터의 품질을 개선하고 분석 가능성을 확대.

2. **효율적인 클러스터링 및 차원 축소**  
   - K-Means 클러스터링을 활용하여 고객을 유사한 그룹으로 분류.
   - PCA(Principal Component Analysis)를 통해 데이터를 시각화하고 차원을 축소하여 주요 특징을 파악.

3. **고객 이탈 예측 모델 개발**  
   - 고객 행동 데이터를 기반으로 한 이탈 여부 예측.
   - 분석 결과를 통해 고객 이탈 가능성을 시각화하고 이해하기 쉽게 전달.

4. **최종 목표**  
   - 고객 이탈 가능성에 따라 맞춤형 마케팅 전략을 제안.
   - 분석 결과를 기반으로 한 데이터 중심 의사결정 지원.
<br><br><br>



# 3. Tech Stack (기술 스택)

>### <span style="color:cyan"> Co-Work Tool </span>
<table>
  <tr>
    <td>Communication & Messenger</td>
    <td><img src="https://img.shields.io/badge/Discord-5865F2?style=flat&logo=Discord&logoColor=white"/></td>
    <td><img src="https://img.shields.io/badge/Notion-000000?style=flat&logo=Notion&logoColor=white"/></td>
    <td><img src="https://img.shields.io/badge/Slack-4A154B?style=flat&logo=Slack&logoColor=white"/></td>
  </tr>
  <tr>
    <td>Development & Merge</td>
    <td><img src="https://img.shields.io/badge/Git-F05032?style=flat&logo=Git&logoColor=white"/></td>
    <td><img src="https://img.shields.io/badge/GitHub-181717?style=flat&logo=GitHub&logoColor=white"/></td>
    <td><img src="https://img.shields.io/badge/gitkraken-179287?style=flat&logo=Git&logoColor=gitkraken&logoColor=white"/></td>
  </tr>  
</table>


>### <span style="color:cyan"> Data Server </span>
<table>
  <tr>
    <td>PyCharm</td>
    <td><img src="https://img.shields.io/badge/pycharm-%23000000?style=flat&logo=pycharm&logoColor=white"/></td>
    <td><img src="https://img.shields.io/badge/python-3776AB?style=flat&logo=python&logoColor=white"/></td>
  </tr>  
  <tr>
    <td>RDBMS</td>
    <td><img src="https://img.shields.io/badge/mysql-4479A1?style=flat&logo=mysql&logoColor=white"/></td>
    <td></td>
    <td></td>
  </tr>
</table>
<br><br><br>


# 4. ✅애자일 보드 

### Data Analysis 
![image](https://github.com/user-attachments/assets/98fec318-f43d-48a9-bf7d-ca08913fe7b9)

<br><br><br>


# 5. 📈 활용 데이터셋

## Facker로 만든 더미데이터
```c
import random
from faker import Faker
import pandas as pd

# Faker 인스턴스 생성
fake = Faker()

# 업종 및 회사 규모
industries = [
    "렌터카 업체", "택시회사", "물류/운송회사", "중고차 딜러",
    "운전학원", "라이드 셰어링/카풀 서비스 기업",
    "공유 차량 서비스 기업", "정부 및 공공기관",
    "건설/산업 장비 대여 업체", "소규모 물품 배달 서비스 회사"
]

company_sizes = ["소기업", "중소기업", "중견기업", "대기업"]

locations = [
    "서울특별시", "부산광역시", "대구광역시", "인천광역시", "광주광역시",
    "대전광역시", "울산광역시", "세종특별자치시", "경기도", "충청북도",
    "충청남도", "전라남도", "경상북도", "경상남도", "강원특별자치도",
    "전북특별자치도", "제주특별자치도"
]

vehicle_data = {
    "스텔라 세단": {"분류종": "승용차 및 SUV", "가격": 45000000},
    "네오 SUV": {"분류종": "승용차 및 SUV", "가격": 55000000},
    "사이버 트럭": {"분류종": "상용차 및 픽업트럭", "가격": 60000000},
    "오로라 미니버스": {"분류종": "버스 및 대형", "가격": 75000000},
    "퓨전 일렉트릭 버스": {"분류종": "버스 및 대형", "가격": 120000000},
    "펄스 컴팩트카": {"분류종": "승용차 및 SUV", "가격": 25000000},
    "루미너스 리무진": {"분류종": "승용차 및 SUV", "가격": 90000000},
    "솔라 SUV": {"분류종": "승용차 및 SUV", "가격": 50000000},
    "타이탄 카고 트럭": {"분류종": "상용차 및 픽업트럭", "가격": 70000000},
    "에스트라 세단": {"분류종": "승용차 및 SUV", "가격": 65000000},
    "제타 컴팩트카": {"분류종": "승용차 및 SUV", "가격": 20000000},
    "오메가 컴팩트카": {"분류종": "승용차 및 SUV", "가격": 23000000}
}

domains = ["naver.com", "daum.net", "gmail.com", "hanmail.net", "kakao.com"]

# 업종 및 회사 규모에 따른 차량 구매 조건 정의
def get_vehicle_preferences(industry, company_size):
    if industry in ["렌터카 업체", "택시회사", "라이드 셰어링/카풀 서비스 기업"]:
        vehicle_types = ["승용차 및 SUV"]
    elif industry in ["물류/운송회사", "건설/산업 장비 대여 업체"]:
        vehicle_types = ["상용차 및 픽업트럭"]
    elif industry in ["정부 및 공공기관", "소규모 물품 배달 서비스 회사"]:
        vehicle_types = ["버스 및 대형", "승용차 및 SUV"]
    else:
        vehicle_types = ["승용차 및 SUV", "상용차 및 픽업트럭"]

    vehicle_count = {
        "소기업": random.randint(1, 3),
        "중소기업": random.randint(3, 7),
        "중견기업": random.randint(7, 15),
        "대기업": random.randint(15, 30)
    }[company_size]

    return vehicle_types, vehicle_count

# 고객 데이터 생성 함수
def generate_customer_data(num_customers):
    purchase_history = []

    for customer_id in range(1, num_customers + 1):
        name = fake.company()
        industry = random.choice(industries)
        company_size = random.choice(company_sizes)
        location = random.choice(locations)
        signup_date = fake.date_between(start_date='-5y', end_date='-1y')
        last_service_date = fake.date_between(start_date=signup_date, end_date='today')
        vehicle_types, vehicle_count = get_vehicle_preferences(industry, company_size)
        selected_vehicles = random.choices(
            [model for model, details in vehicle_data.items() if details["분류종"] in vehicle_types],
            k=vehicle_count
        )
        email = f"customer{customer_id}@{random.choice(domains)}"

        # 구매 이력 데이터 생성
        for vehicle in selected_vehicles:
            quantity = random.randint(1, 5)
            purchase_history.append({
                "CustomerID": email,
                "회사명": name,
                "업종": industry,
                "회사 규모": company_size,
                "지역": location,
                "가입 일자": signup_date,
                "최근 서비스 이용 날짜": last_service_date,
                "모델명": vehicle,
                "분류종": vehicle_data[vehicle]["분류종"],  # 분류종 추가
                "구매 갯수": quantity,
                "구매 가격": vehicle_data[vehicle]["가격"] * quantity,
                "구매 일자": fake.date_between(start_date=signup_date, end_date=last_service_date),
                "평점": random.randint(1, 5)
            })

    return purchase_history

# 이탈 여부 결정 함수
def determine_churn(row):
    long_inactive = (pd.Timestamp.today() - pd.to_datetime(row["최근 서비스 이용 날짜"])).days > 365
    low_total_amount = row["총 구매 금액"] < 1000000000
    low_review_score = row["평균 평점"] <= 2.5

    if long_inactive and (low_total_amount or low_review_score):
        return 1
    else:
        return 0

# 데이터 생성
num_customers = 1000
purchase_history = generate_customer_data(num_customers)

# 구매 이력 데이터프레임
purchase_history_df = pd.DataFrame(purchase_history)

# 구매 일자 기준 정렬
purchase_history_df.sort_values(by=["CustomerID", "구매 일자"], inplace=True)

# 구매 횟수, 평균 평점, 총 구매 금액 업데이트
purchase_history_df["구매 횟수"] = purchase_history_df.groupby("CustomerID").cumcount() + 1
purchase_history_df["총 구매 금액"] = purchase_history_df.groupby("CustomerID")["구매 가격"].cumsum()
purchase_history_df["평균 평점"] = purchase_history_df.groupby("CustomerID")["평점"].expanding().mean().reset_index(level=0, drop=True).round(1)

# 이탈 여부 추가
latest_purchase = purchase_history_df.groupby("CustomerID")["최근 서비스 이용 날짜"].transform("max")
purchase_history_df["최근 서비스 이용 날짜"] = latest_purchase
purchase_history_df["이탈 여부"] = purchase_history_df.apply(determine_churn, axis=1)

# 데이터 저장
output_file = "customer_data.csv"
purchase_history_df.to_csv(output_file, index=False, encoding="utf-8-sig")

# 이탈률 확인
churn_rate = purchase_history_df["이탈 여부"].mean() * 100
print(f"이탈률: {churn_rate:.2f}%")
print("Data saved to:", output_file)
```


# 6. 💡 상관관계 추측

1. **장기 고객은 이탈률이 낮을 것이다.**
   - 고객의 가입 기간이 길수록 서비스에 대한 충성도가 높아지고, 이탈률은 낮아질 것으로 예상됩니다.
   - 장기 고객의 행동 데이터를 분석하여 충성 고객의 특징을 파악할 수 있습니다.

2. **회사 규모와 구매 빈도는 이탈률에 영향을 미칠 것이다.**
   - 대기업일수록 구매 빈도가 높고, 지속적인 서비스 이용 가능성이 클 것으로 추측됩니다.
   - 반대로 소규모 기업은 자원 부족으로 인해 이탈 가능성이 더 높을 수 있습니다.

3. **고객의 평균 평점과 이탈 여부는 연관성이 있을 것이다.**
   - 서비스에 대한 낮은 평점을 부여한 고객은 높은 평점을 부여한 고객에 비해 이탈 가능성이 더 높을 것으로 예상됩니다.

4. **총 구매 금액이 높은 고객은 이탈 가능성이 낮을 것이다.**
   - 더 많은 금액을 지불한 고객은 서비스에 대한 높은 의존도를 보이며 이탈 가능성이 낮을 것으로 보입니다.





# 7. 💡 데이터 탐색

#### 가입 기간 분석

```python
# 가입 기간 주요 통계 확인
print(data['가입 기간'].describe())

# 가입 기간 분포 시각화
sns.histplot(data=data, x='가입 기간', kde=True, color='blue')
plt.title('가입 기간 분포')
plt.xlabel('가입 기간 (월)')
plt.ylabel('빈도')
plt.show()
```

---

#### 구매 빈도 분석

```python
# 구매 횟수 주요 통계 확인
print(data['구매 횟수'].describe())

# 구매 횟수 분포 시각화
sns.histplot(data=data, x='구매 횟수', kde=True, color='green')
plt.title('구매 횟수 분포')
plt.xlabel('구매 횟수')
plt.ylabel('빈도')
plt.show()
```

---

#### 총 구매 금액 분석

```python
# 총 구매 금액 주요 통계 확인
print(data['총 구매 금액'].describe())

# 총 구매 금액과 이탈 여부의 관계 시각화
sns.boxplot(data=data, x='이탈 여부', y='총 구매 금액', palette='coolwarm')
plt.title('총 구매 금액과 이탈 여부')
plt.xlabel('이탈 여부')
plt.ylabel('총 구매 금액')
plt.show()
```

---

#### 평균 평점 분석

```python
# 평균 평점 주요 통계 확인
print(data['평균 평점'].describe())

# 평균 평점과 이탈 여부의 관계 시각화
sns.violinplot(data=data, x='이탈 여부', y='평균 평점', palette='Set3')
plt.title('평균 평점과 이탈 여부')
plt.xlabel('이탈 여부')
plt.ylabel('평균 평점')
plt.show()
```

---

#### 업종 및 회사 규모 분석

```python
# 회사 규모별 이탈 여부 시각화
sns.countplot(data=data, x='회사 규모', hue='이탈 여부', palette='pastel')
plt.title('회사 규모별 이탈 여부')
plt.xlabel('회사 규모')
plt.ylabel('빈도')
plt.legend(title='이탈 여부')
plt.show()
```



# 8. 전처리

### 결측치, 이상치 탐지 및 처리
-
### 평균치 컬럼 생성
-
### 표준화 컬럼 생성 
-

# 9. EDA
### 상관 관계 분석
-

### 모델링에 사용할 데이터 선정
-

# 10. 모델링
### 지도학습
-

### 비지도학습
-

# 11. 결론
### 초기 추측과 비교
-

### 고객 이탈률 개선 방안
-



  
# 9. 한 줄 회고
🤓<b>유제나</b>  
_Ddd구조에 더 많은 학습이 필요하다고 느껴졌고 많은 지식을 알아갔던 시간이였던 거 같습니다.👏_

👨‍💻<b>조준희</b>  
_크롤링이라는 것을 처음 사용해봤는데 아직 완전히 이해하지 못했습니다. 좋은 경험이 되었고 더욱 공부에 힘내겠습니다._

😺<b>주고은</b>  
_좋은 팀원분들을 만나 덕분에 많이 배울 수 있었고 프로젝트도 잘 마무리될 수 있었다고 생각합니다. 수고하셨습니다😊_

🪐<b>최병준</b>  
_학창시절에 배우기만 했던 DDD구조를 직접 구현해 보면서 코딩 실력이 예전에 비해서 많이 늘은것 같다._
